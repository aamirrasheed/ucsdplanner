<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="comparisons.css" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.8.1/rivets.bundled.min.js" type="text/javascript"></script>

  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="partials/d3pie.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="/comparisons.js" type="text/javascript"></script>
  
  <style href="" type="text/css">
  ul {
    height: 200px;
    overflow: scroll;
  }
  </style>
</head>
<body>
  <button type="button" rv-on-click="app.add_course">Add Class</button>
  <div class="input" rv-show="app.show_search">
    <input id="search" type="text" placeholder="Course Name" rv-value="app.course_search"/>
    <ul id="courses">
      <li rv-each-course="app.courses | mark app.course_search" rv-hide="course.hide" rv-on-click="app.user_selects_course">
        <span class="id" rv-text="course.course_id"></span>
      </li>
    </ul>


    <select rv-value="app.current_course_prof.prof.id" rv-on-change="app.user_selects_prof">
      <option value="" disabled selected>Professor</option>
      <option rv-each-prof="app.profs" rv-value="prof.id">{prof.name}</option> 
    </select>
  </div>


  <div rv-each-courseprof="app.displayed_course_profs" class="course-prof" rv-show="app.show_course_prof">
    <div class="course-prof-header">
      <div class="course-title">
        <span class="dept"><b>{courseprof.course.dept}</b></span>
        <span class="id"><b>{courseprof.course.code}</b></span>
      </div>
      <div class="prof-div">
        <span class="prof">{courseprof.prof.name}</span>
      </div>
    </div>
    <div class="capes">
      <hr>
      <span><b>CAPEs</b></span>
      <hr>
      <select rv-value="courseprof.current_cape_term" rv-on-change="app.change_cape" class="cape-selector">
        <option rv-each-cape="courseprof.data.capes" rv-value="cape.term">{cape.term}</option> 
      </select>
      <br>
      <span class="grade">{courseprof.current_cape.cape_prof_gpa | fixed 2} / {courseprof.current_cape.cape_prof_gpa | letter}</span>
      <br>

      <div rv-id="courseprof.course.id" class="grade-dist-chart"></div>

      <div class="cape-data-entries">
        <div class="data-cell">
          <h4 class="data-title">Recommend Instructor</h4>
          <p class="data-info">{courseprof.current_cape.cape_rec_prof | fixed 1}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Recommend Class</h4>
          <p class="data-info">{courseprof.current_cape.cape_rec_course | fixed 1}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Hours/Week</h4>
          <p class="data-info">{courseprof.current_cape.cape_study_hrs | fixed 1}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Complete CAPE Report</h4>
          <a target="_blank" rv-href="courseprof.current_cape.cape_url"><p class="data-info">Link</p></a>
        </div>
      </div>
    </div>

    <div class="rmp">
      <hr>
      <span><b>Rate My Professors</b></span>
      <hr>
			
      <div class="rmp-data-entries">
        <div class="data-cell">
          <h4 class="data-title">Overall</h4>
          <p class="data-info">{courseprof.data.rmp.overall | rmpformatter}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Helpfulness</h4>
          <p class="data-info">{courseprof.data.rmp.helpfulness | rmpformatter}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Clarity</h4>
          <p class="data-info">{courseprof.data.rmp.clarity | rmpformatter}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Easiness</h4>
          <p class="data-info">{courseprof.data.rmp.easiness | rmpformatter}</p>
        </div>
        <div class="data-cell">
          <h4 class="data-title">Comments</h4>
          <a target="_blank" href="http://www.ratemyprofessors.com"><p class="data-info">Link</p></a>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

